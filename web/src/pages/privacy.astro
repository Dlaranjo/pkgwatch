---
import Layout from '../layouts/Layout.astro';

const lastUpdated = '2026-01-19';
---

<Layout title="Privacy Policy | PkgWatch" mainClass="max-w-3xl mx-auto px-4 py-24 pt-32">
    <h1 class="text-4xl font-bold text-white mb-4">Privacy Policy</h1>
    <p class="text-zinc-400 mb-8">Last updated: {lastUpdated}</p>

    <div class="prose prose-invert prose-zinc max-w-none space-y-8">
      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Overview</h2>
        <p class="text-zinc-400 leading-relaxed">
          PkgWatch ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you use our package health monitoring service.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Information We Collect</h2>

        <h3 class="text-lg font-semibold text-white mt-6 mb-3">Account Information</h3>
        <p class="text-zinc-400 leading-relaxed mb-4">
          When you sign up for PkgWatch, we collect:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li>Email address (for account authentication and communication)</li>
          <li>API usage data (request counts, timestamps)</li>
        </ul>

        <h3 class="text-lg font-semibold text-white mt-6 mb-3">API Usage Data</h3>
        <p class="text-zinc-400 leading-relaxed mb-4">
          When you use our API, we collect:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li>Package names queried (e.g., "express", "lodash")</li>
          <li>Request timestamps and IP addresses (for rate limiting and abuse prevention)</li>
          <li>API key identifiers (not the keys themselves)</li>
          <li>Request metadata (HTTP method, response status codes)</li>
        </ul>

        <h3 class="text-lg font-semibold text-white mt-6 mb-3">What We Do NOT Collect</h3>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li>Your source code</li>
          <li>The contents of your package.json files (only package names)</li>
          <li>Any personal data beyond email addresses</li>
        </ul>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">How We Use Your Information</h2>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li>To provide and maintain our service</li>
          <li>To enforce rate limits and prevent abuse</li>
          <li>To send transactional emails (magic links, API key notifications)</li>
          <li>To improve our service based on aggregate usage patterns</li>
        </ul>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Data Storage and Security</h2>
        <p class="text-zinc-400 leading-relaxed mb-4">
          Your data is stored securely on AWS infrastructure in the United States. We implement industry-standard security measures including:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li>Encryption in transit (TLS 1.2+)</li>
          <li>Encryption at rest for all stored data</li>
          <li>API key hashing (we cannot see your full API keys)</li>
        </ul>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Data Retention</h2>
        <p class="text-zinc-400 leading-relaxed mb-4">
          We retain different types of data for different periods:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li><strong class="text-zinc-300">Account data:</strong> Retained for as long as your account is active</li>
          <li><strong class="text-zinc-300">API usage counts:</strong> Reset monthly, historical counts retained for billing purposes</li>
          <li><strong class="text-zinc-300">Rate limiting data:</strong> Automatically deleted within 24-48 hours</li>
          <li><strong class="text-zinc-300">Application logs:</strong> Retained for 30 days for debugging and security purposes</li>
          <li><strong class="text-zinc-300">Billing records:</strong> Retained as required by law (typically 7 years)</li>
        </ul>
        <p class="text-zinc-400 leading-relaxed mt-4">
          You may request deletion of your account and associated data at any time by contacting us.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Third-Party Services</h2>
        <p class="text-zinc-400 leading-relaxed mb-4">
          We use the following third-party services:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li><strong class="text-zinc-300">AWS</strong> - Infrastructure and data storage</li>
          <li><strong class="text-zinc-300">Stripe</strong> - Payment processing (for paid tiers)</li>
          <li><strong class="text-zinc-300">Plausible Analytics</strong> - Privacy-focused website analytics (no cookies, no personal data)</li>
        </ul>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Your Rights</h2>
        <p class="text-zinc-400 leading-relaxed mb-4">
          You have the right to:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li>Access the personal data we hold about you</li>
          <li>Request correction of inaccurate data</li>
          <li>Request deletion of your data</li>
          <li>Export your data in a portable format</li>
        </ul>
        <p class="text-zinc-400 leading-relaxed mt-4">
          To exercise these rights, contact us at <a href="mailto:support@laranjo.dev" class="text-blue-400 hover:underline">support@laranjo.dev</a>.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Cookies</h2>
        <p class="text-zinc-400 leading-relaxed">
          We do not use tracking cookies. We use Plausible Analytics, which is cookie-free and does not track individual users. Session authentication uses secure HTTP-only cookies that are essential for the service to function.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">International Data Transfers (GDPR)</h2>
        <p class="text-zinc-400 leading-relaxed mb-4">
          If you are located in the European Economic Area (EEA), United Kingdom, or Switzerland, please note that your data is transferred to and processed in the United States where our infrastructure is hosted.
        </p>
        <p class="text-zinc-400 leading-relaxed mb-4">
          We rely on the following legal bases for processing your data:
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li><strong class="text-zinc-300">Contract performance:</strong> Processing necessary to provide the Service you requested</li>
          <li><strong class="text-zinc-300">Legitimate interests:</strong> Processing for fraud prevention, security, and service improvement</li>
          <li><strong class="text-zinc-300">Legal obligations:</strong> Processing required to comply with applicable laws</li>
        </ul>
        <p class="text-zinc-400 leading-relaxed mt-4">
          For international transfers, we use Standard Contractual Clauses approved by the European Commission. You have the right to request a copy of these safeguards by contacting us.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">California Privacy Rights (CCPA)</h2>
        <p class="text-zinc-400 leading-relaxed mb-4">
          If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):
        </p>
        <ul class="list-disc list-inside text-zinc-400 space-y-2 ml-4">
          <li><strong class="text-zinc-300">Right to know:</strong> What personal information we collect and how it is used</li>
          <li><strong class="text-zinc-300">Right to delete:</strong> Request deletion of your personal information</li>
          <li><strong class="text-zinc-300">Right to opt-out:</strong> We do not sell personal information to third parties</li>
          <li><strong class="text-zinc-300">Right to non-discrimination:</strong> We will not discriminate against you for exercising these rights</li>
        </ul>
        <p class="text-zinc-400 leading-relaxed mt-4">
          To exercise these rights, contact us at <a href="mailto:support@laranjo.dev" class="text-blue-400 hover:underline">support@laranjo.dev</a>.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Changes to This Policy</h2>
        <p class="text-zinc-400 leading-relaxed">
          We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-semibold text-white mb-4">Contact Us</h2>
        <p class="text-zinc-400 leading-relaxed">
          If you have questions about this Privacy Policy, please contact us at <a href="mailto:support@laranjo.dev" class="text-blue-400 hover:underline">support@laranjo.dev</a>.
        </p>
      </section>
    </div>
</Layout>
